# pytest and pytest-watch configuration for QBot development

[pytest]
minversion = 7.0
addopts = --strict-markers --strict-config --verbose --tb=short -m "not integration"
testpaths = tests
markers =
    integration: marks tests as integration tests (require special setup)
    unit: marks tests as unit tests
    bdd: marks tests as behavioral tests

[pytest-watch]
# Only watch specific directories to avoid models/ and profiles/
watch = sqlbot,tests

# Ignore these patterns (comma-separated)
ignore = *.pyc,__pycache__,.pytest_cache,*.log,target,logs,.git,*.egg-info,temp_user_display_*
ignore-paths = models,profiles,macros,dbt_project.yml

# Run pytest with these options
runner = pytest
args = -q --tb=short --no-header --disable-warnings

# Clear screen before each run
clear = true

# Wait time between file changes (seconds)  
spool = 200

# Extensions to watch (comma-separated)
ext = .py,.yml,.yaml,.sql
